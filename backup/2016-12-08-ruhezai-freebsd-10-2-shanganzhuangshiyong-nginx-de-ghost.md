---
id: 63
title: '如何在 FreeBSD 10.2 上安装使用 Nginx 的 Ghost'
date: '2016-12-08T23:32:05+08:00'
author: forestbird
layout: post
guid: 'https://bird.work/?p=63'
permalink: /2016/12/08/ruhezai-freebsd-10-2-shanganzhuangshiyong-nginx-de-ghost/
categories:
    - log
tags:
    - FREEBSD
    - Ghost
    - Nginx
    - node.js
    - npm
    - sqlite3
---

 <span style="color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;">以下是portsnap的几种简单用法：</span>

<div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> </div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> * 第一次使用可以：portsnap fetch extract</div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> * 以后使用只要：portsnap fetch update </div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> * 放在cron里运行：portsnap cron</div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"><span style="margin: 0px; padding: 0px; font-family: tahoma, arial, 宋体;">另外：</span>  
<span style="margin: 0px; padding: 0px; font-family: tahoma, arial, 宋体;">更新ports后，如果运行make search name=xxx不成功，请在/usr/ports下运行make fetchindex。</span></div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> </div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> </div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"><span class="z textcut" style="word-wrap: break-word; float: left; max-width: 60%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; color: rgb(153, 153, 153); font-family: "Lantinghei SC", "Helvetica Neue", "Microsoft YaHei", 微软雅黑, Arial, STHeiti, "WenQuanYi Micro Hei", SimSun, sans-serif;">编译自：<http://linoxide.com/linux-how-to/install-ghost-nginx-freebsd-10-2/></span><span class="y" style="word-wrap: break-word; float: right; padding-left: 5px; color: rgb(153, 153, 153); font-family: "Lantinghei SC", "Helvetica Neue", "Microsoft YaHei", 微软雅黑, Arial, STHeiti, "WenQuanYi Micro Hei", SimSun, sans-serif;">作者： Arul</span>  
<span class="z" style="word-wrap: break-word; float: left; color: rgb(153, 153, 153); font-family: "Lantinghei SC", "Helvetica Neue", "Microsoft YaHei", 微软雅黑, Arial, STHeiti, "WenQuanYi Micro Hei", SimSun, sans-serif;">原创：[LCTT](http://lctt.github.io/) <https://linux.cn/article-7116-1.html></span><span class="y" style="word-wrap: break-word; float: right; padding-left: 5px; color: rgb(153, 153, 153); font-family: "Lantinghei SC", "Helvetica Neue", "Microsoft YaHei", 微软雅黑, Arial, STHeiti, "WenQuanYi Micro Hei", SimSun, sans-serif;">译者： ictlyh</span></div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;">  
<span class="z" style="word-wrap: break-word; float: left; color: rgb(153, 153, 153); font-family: "Lantinghei SC", "Helvetica Neue", "Microsoft YaHei", 微软雅黑, Arial, STHeiti, "WenQuanYi Micro Hei", SimSun, sans-serif;">本文地址：<https://linux.cn/article-7116-1.html></span></div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> </div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"><span class="y" style="word-wrap: break-word; float: right; padding-left: 5px; color: rgb(153, 153, 153); font-family: "Lantinghei SC", "Helvetica Neue", "Microsoft YaHei", 微软雅黑, Arial, STHeiti, "WenQuanYi Micro Hei", SimSun, sans-serif;">‘</span></div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> </div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;"> </div><div style="margin: 0px; padding: 0px; color: rgb(53, 56, 61); font-family: Verdana, Arial, Helvetica, sans-serif;">Node.js 是用于开发服务器端应用程序的开源的运行时环境。Node.js 应用使用 JavaScript 编写，能在任何有 Node.js 运行时的服务器上运行。它跨平台支持 Linux、Windows、OSX、IBM AIX，也包括 FreeBSD。Node.js 是 Ryan Dahl 以及在 Joyent 工作的其他开发者于 2009 年创建的。它的设计目标就是构建可扩展的网络应用程序。

Ghost 是使用 Node.js 编写的博客平台。它不仅开源，而且有很漂亮的界面设计、对用户友好并且免费。它允许你快速地在网络上发布内容，或者创建你的混合网站。

![](https://dn-linuxcn.qbox.me/data/attachment/album/201603/16/203846s60trc50g0gdye6m.png)

在这篇指南中我们会在 FreeBSD 上安装使用 Nginx 作为 web 服务器的 Ghost。我们会在 FreeBSD 10.2 上安装 Node.js、Npm、nginx 和 sqlite3。

### 第一步 – 安装 Node.js npm 和 Sqlite3

如果你想在你的服务器上运行 ghost，你必须安装 node.js。在这一部分，我们会从 freebsd 移植软件库中安装 node.js，请进入库目录 "/usr/ports/www/node" 并通过运行命令 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">make</span>" 安装。

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">usr</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ports</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">node</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">make</span><span class="pln" style="word-wrap: break-word;"> install clean</span></code></li></ol>
```

如果你已经安装了 node.js，那就进入到 npm 目录并安装它。<span style="word-wrap: break-word; color: rgb(196, 15, 15);">npm</span> 是用于安装、发布和管理 node 程序的软件包管理器。

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">usr</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ports</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">npm</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">make</span><span class="pln" style="word-wrap: break-word;"> install clean</span></code></li></ol>
```

下一步，安装 sqlite3。默认情况下 ghost 使用 sqlite3 作为数据库系统，但它也支持 mysql/mariadb 和 postgresql。我们会使用 sqlite3 作为默认数据库。

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAA
AZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">usr</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ports</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">databases</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">sqlite3</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">make</span><span class="pln" style="word-wrap: break-word;"> install clean</span></code></li></ol>
```

如果安装完了所有软件，还有检查 node.js 和 npm 的版本：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">node </span><span class="pun" style="word-wrap: break-word;">--</span><span class="pln" style="word-wrap: break-word;">version</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">v0</span><span class="pun" style="word-wrap: break-word;">.</span><span class="lit" style="word-wrap: break-word; color: rgb(51, 135, 204);">12.6</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">npm </span><span class="pun" style="word-wrap: break-word;">--</span><span class="pln" style="word-wrap: break-word;">version</span></code></li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="lit" style="word-wrap: break-word; color: rgb(51, 135, 204);">2.11</span><span class="pun" style="word-wrap: break-word;">.</span><span class="lit" style="word-wrap: break-word; color: rgb(51, 135, 204);">3</span></code></li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">sqlite3 </span><span class="pun" style="word-wrap: break-word;">--</span><span class="pln" style="word-wrap: break-word;">version</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="lit" style="word-wrap: break-word; color: rgb(51, 135, 204);">3.8</span><span class="pun" style="word-wrap: break-word;">.</span><span class="lit" style="word-wrap: break-word; color: rgb(51, 135, 204);">10.2</span></code></li></ol>
```

![node 和 npm 版本](http://www.zhaoweifeng.cn/blog/upload/201612081535230551.png)

*node 和 npm 版本*

### 第二步 – 添加 Ghost 用户

我们会以普通用户 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">ghost</span>" 身份安装和运行 ghost。用 "adduser" 命令添加新用户：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">adduser ghost</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">FILL </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">With</span><span class="pln" style="word-wrap: break-word;"> </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Your</span><span class="pln" style="word-wrap: break-word;"> INFO</span></code></li></ol>
```

![添加用户 Ghost](http://www.zhaoweifeng.cn/blog/upload/201612081535264058.png)

*添加用户 Ghost*

### 第三步 – 安装 Ghost

我们会把 ghost 安装到 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">/var/www/</span>" 目录，首先新建目录然后进入到安装目录：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">mkdir</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">p </span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">var</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-
radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">var</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span></code></li></ol>
```

用 wget 命令下载最新版本的 ghost：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">wget</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">--</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">no</span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">check</span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">certificate https</span><span class="pun" style="word-wrap: break-word;">:</span><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">//ghost.org/zip/ghost-latest.zip</span></code></li></ol>
```

把它解压到 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">ghost</span>" 目录：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">unzip </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">d ghost ghost</span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">latest</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">zip</span></code></li></ol>
```

下一步，更改属主为 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">ghost</span>"，我们会以这个用户安装和运行它。

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">chown</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">R ghost</span><span class="pun" style="word-wrap: break-word;">:</span><span class="pln" style="word-wrap: break-word;">ghost ghost</span><span class="pun" style="word-wrap: break-word;">/</span></code></li></ol>
```

都做完了的话，通过输入以下命令切换到 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">ghost</span>" 用户：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">su</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;"> ghost</span></code></li></ol>
```

然后进入到安装目录"/var/www/ghost/"：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">var</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ghost</span><span class="pun" style="word-wrap: break-word;">/</span></code></li></ol>
```

在安装 ghost 之前，我们需要为 node.js 安装 sqlite3 模块，用 npm 命令安装：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">setenv CXX c</span><span class="pun" style="word-wrap: break-word;">++</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">;</span><span class="pln" style="word-wrap: break-word;"> npm install sqlite3 </span><span class="pun" style="word-wrap: break-word;">--</span><span class="pln" style="word-wrap: break-word;">sqlite</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">/usr/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">local</span></code></li></ol>
```

<span style="word-wrap: break-word; color: rgb(196, 15, 15);">注意： 以 “ghost” 用户运行，而不是 root 用户。</span>

现在，我们准备好安装 ghost 了，用 npm 命令安装：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">npm install </span><span class="pun" style="word-wrap: break-word;">--</span><span class="pln" style="word-wrap: break-word;">production</span></code></li></ol>
```

下一步，复制配置文件 "config.example.js" 为 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">config.js</span>"，用 nano 编辑器编辑：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cp</span><span class="pln" style="word-wrap: break-word;"> config</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">example</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">js config</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">js</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">nano</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">c config</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">js</span></code></li></ol>
```

更改 server 模块的第 25 行：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">host</span><span class="pun" style="word-wrap: break-word;">:</span><span class="pln" style="word-wrap: break-word;"> </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">'0.0.0.0'</span><span class="pun" style="word-wrap: break-word;">,</span></code></li></ol>
```

保存并退出。

现在用下面的命令运行 ghost：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">npm start </span><span class="pun" style="word-wrap: break-word;">--</span><span class="pln" style="word-wrap: break-word;">production</span></code></li></ol>
```

通过访问服务器 ip 和 2368 号端口验证一下。

![Ghost 安装完成](http://www.zhaoweifeng.cn/blog/upload/201612081535278711.png)

*Ghost 安装完成*

以 “ghost” 用户在 "/var/www/ghost" 目录安装了 ghost。

### 第四步 – 作为 FreeBSD 服务运行 Ghost

要在 freebsd 上以服务形式运行应用，你需要在 rc.d 目录添加脚本。我们会在 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">/usr/local/etc/rc.d/</span>" 目录为 ghost 创建新的服务脚本。

在创建服务脚本之前，为了以服务形式运行 ghost，我们需要安装一个 node.js 模块，用 npm 命令以<span style="word-wrap: break-word; color: rgb(196, 15, 15);">sudo/root</span> 权限安装 forever 模块：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">npm install forever </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">g</span></code></li></ol>
```

现在进入到 rc.d 目录并创建名为 ghost 的新文件：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap
: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">usr</span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">local</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">etc</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">rc</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">d</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">nano</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">c ghost</span></code></li></ol>
```

粘贴下面的服务脚本：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">#</span><span class="pun" style="word-wrap: break-word;">!</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">/bin/</span><span class="pln" style="word-wrap: break-word;">sh</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">#</span><span class="pln" style="word-wrap: break-word;"> PROVIDE</span><span class="pun" style="word-wrap: break-word;">:</span><span class="pln" style="word-wrap: break-word;"> ghost</span></code></li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">#</span><span class="pln" style="word-wrap: break-word;"> KEYWORD</span><span class="pun" style="word-wrap: break-word;">:</span><span class="pln" style="word-wrap: break-word;"> </span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">shutdown</span></code></li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">PATH</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin"</span></code></li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">etc</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">rc</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">subr</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L8" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">name</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"ghost"</span></code></li><li class="L9" style="word-wrap: br
eak-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">rcvar</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"ghost_enable"</span></code></li><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">extra_commands</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"status"</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">load_rc_config ghost</span></code></li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">:</span><span class="pln" style="word-wrap: break-word;"> $</span><span class="pun" style="word-wrap: break-word;">{</span><span class="pln" style="word-wrap: break-word;">ghost_enable</span><span class="pun" style="word-wrap: break-word;">:=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"NO"</span><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">status_cmd</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"ghost_status"</span></code></li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">start_cmd</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"ghost_start"</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">stop_cmd</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"ghost_stop"</span></code></li><li class="L8" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">restart_cmd</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"ghost_restart"</span></code></li><li class="L9" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">ghost</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"/var/www/ghost"</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">log</span><span class="pun" style="word-wrap: break-word;">=</span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"/var/log/ghost/ghost.log"</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">ghost_start</span><span class="pun" style="word-wrap: break-word;">()</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">sudo</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">u ghost sh </span><span class="pun" style="word-wrap: br
eak-word;">-</span><span class="pln" style="word-wrap: break-word;">c </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"cd $ghost && NODE_ENV=production forever start -al $log index.js"</span></code></li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">ghost_stop</span><span class="pun" style="word-wrap: break-word;">()</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">sudo</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">u ghost sh </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">c </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"cd $ghost && NODE_ENV=production forever stop index.js"</span></code></li><li class="L8" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L9" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">ghost_status</span><span class="pun" style="word-wrap: break-word;">()</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">sudo</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">u ghost sh </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">c </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"NODE_ENV=production forever list"</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">ghost_restart</span><span class="pun" style="word-wrap: break-word;">()</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">ghost_stop</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">ghost_start</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L8" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L9" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">run_rc_command </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"$1"</span></code></li></ol>
```

保存并退出。

下一步，给 ghost 服务脚本添加可执行权限：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">chmod</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">+</span><span class="pln" style="word-wrap: break-word;">x ghost</span></code></li></ol>
```

为 ghost 日志创建新的目录和文件，并把属主修改为 ghost 用户：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">mkdir</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">p </span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">var</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ghost</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">touch</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">var</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ghost</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ghost</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">log</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">chown</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">R </span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">var</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">www</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">ghost</span><span class="pun" style="word-wrap: break-word;">/</span></code></li></ol>
```

最后，如果你想运行 ghost 服务，你需要用 sysrc 命令添加 ghost 服务到开机启动应用程序：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">sysrc ghost_enable</span><span class="pun" style="word-wrap: break-word;">=</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">yes</span></code></li></ol>
```

用以下命令启动 ghost：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">service ghost start</span></code></li></ol>
```

其它命令：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">service ghost stop</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">service ghost status</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">service ghost restart</span></code></li></ol>
```

![Ghost 服务命令](http://www.zhaoweifeng.cn/blog/upload/201612081535277623.png)

*Ghost 服务命令*

### 第五步 – 为 Ghost 安装和配置 Nginx

默认情况下，ghost 会以独立模式运行，你可以不用 Nginx、apache 或 IIS web 服务器直接运行它。但在这篇指南中我们会安装和配置 nginx 和 ghost 一起使用。

用 pkg 命令从 freebsd 库中安装 nginx：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">pkg install nginx</span></code></li></ol>
```

下一步，进入 nginx 配置目录并为 virtualhost 配置创建新的目录。

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">usr</span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">local</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">etc</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">nginx</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">mkdir</span><span class="pln" style="word-wrap: break-word;"> virtualhost</span><span class="pun" style="word-wrap: break-word;">/</span></code></li></ol>
```

进入 virtualhost 目录，用 nano 编辑器创建名为 ghost.conf 的新文件：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> virtualhost</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">nano</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" e="word-wrap: break-word;" styl="">c ghost</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">conf</span></code></li></ol>
```

粘贴下面的 virtualhost 配置：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">server </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">listen </span><span class="lit" style="word-wrap: break-word; color: rgb(51, 135, 204);">80</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">#</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Your</span><span class="pln" style="word-wrap: break-word;"> </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Domain</span></code></li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">server_name ghost</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">me</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">location </span><span class="pun" style="word-wrap: break-word;">~*</span><span class="pln" style="word-wrap: break-word;"> \.</span><span class="pun" style="word-wrap: break-word;">(?:</span><span class="pln" style="word-wrap: break-word;">ico</span><span class="pun" style="word-wrap: break-word;">|</span><span class="pln" style="word-wrap: break-word;">css</span><span class="pun" style="word-wrap: break-word;">|</span><span class="pln" style="word-wrap: break-word;">js</span><span class="pun" style="word-wrap: break-word;">|</span><span class="pln" style="word-wrap: break-word;">gif</span><span class="pun" style="word-wrap: break-word;">|</span><span class="pln" style="word-wrap: break-word;">jpe</span><span class="pun" style="word-wrap: break-word;">?</span><span class="pln" style="word-wrap: break-word;">g</span><span class="pun" style="word-wrap: break-word;">|</span><span class="pln" style="word-wrap: break-word;">png</span><span class="pun" style="word-wrap: break-word;">|</span><span class="pln" style="word-wrap: break-word;">ttf</span><span class="pun" style="word-wrap: break-word;">|</span><span class="pln" style="word-wrap: break-word;">woff</span><span class="pun" style="word-wrap: break-word;">)</span><span class="pln" style="word-wrap: break-word;">$ </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">access_log off</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L8" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">expires </span><span class="lit" style="word-wrap: break-word; color: rgb(51, 135, 204);">30d</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L9" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">add_header </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Pragma</span><span class="pln" style="word-wrap: break-word;"> </span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">public</span><span class="pun" style="word-wrap: break-wor
d;">;</span></code></li><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">add_header </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Cache</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Control</span><span class="pln" style="word-wrap: break-word;"> </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"public, mustrevalidate, proxy-revalidate"</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">proxy_pass http</span><span class="pun" style="word-wrap: break-word;">:</span><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">//127.0.0.1:2368;</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">location </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">add_header X</span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">XSS</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Protection</span><span class="pln" style="word-wrap: break-word;"> </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"1; mode=block"</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">add_header </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Cache</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Control</span><span class="pln" style="word-wrap: break-word;"> </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"public, max-age=0"</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">add_header </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Content</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Security</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Policy</span><span class="pln" style="word-wrap: break-word;"> </span><span class="str" style="word-wrap: break-word; color: rgb(101, 176, 66);">"script-src 'self' ; font-src 'self' ; connect-src 'self' ; block-all-mixed-content; reflected-xss block; referrer no-referrer"</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L8" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">add_header X</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Content</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Type</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Options</span><span class="pln" style="word-wrap: break-word;"> nosniff</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L9" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">add_header X</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Frame</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Options</span><span class="pln" style="word-wrap: break-word;"> DENY</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px
!important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">proxy_set_header X</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Forwarded</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">For</span><span class="pln" style="word-wrap: break-word;"> $proxy_add_x_forwarded_for</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">proxy_set_header </span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Host</span><span class="pln" style="word-wrap: break-word;"> $http_host</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">proxy_set_header X</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Forwarded</span><span class="pun" style="word-wrap: break-word;">-</span><span class="typ" style="word-wrap: break-word; color: rgb(137, 189, 255);">Proto</span><span class="pln" style="word-wrap: break-word;"> $scheme</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">proxy_pass http</span><span class="pun" style="word-wrap: break-word;">:</span><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">//127.0.0.1:2368;</span></code></li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L5" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L6" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">location </span><span class="pun" style="word-wrap: break-word;">=</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">robots</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">txt </span><span class="pun" style="word-wrap: break-word;">{</span><span class="pln" style="word-wrap: break-word;"> access_log off</span><span class="pun" style="word-wrap: break-word;">;</span><span class="pln" style="word-wrap: break-word;"> log_not_found off</span><span class="pun" style="word-wrap: break-word;">;</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L7" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">location </span><span class="pun" style="word-wrap: break-word;">=</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">favicon</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">ico </span><span class="pun" style="word-wrap: break-word;">{</span><span class="pln" style="word-wrap: break-word;"> access_log off</span><span class="pun" style="word-wrap: break-word;">;</span><span class="pln" style="word-wrap: break-word;"> log_not_found off</span><span class="pun" style="word-wrap: break-word;">;</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L8" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L9" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">location </span><span class="pun" style="word-wrap: break-word;">~</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">\.ht </span><span class="pun" style="word-wrap: break-word;">{</span></code></li><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">deny all</span><span class="pun" style="word-wrap: break-word;">;</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;">
<code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">}</span></code></li></ol>
```

保存并退出。

要启用 virtualhost 配置，你需要把那个文件添加到 <span style="word-wrap: break-word; color: rgb(196, 15, 15);">nginx.conf</span>。进入 nginx 配置目录并编辑 nginx.conf 文件：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">cd</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">usr</span><span class="pun" style="word-wrap: break-word;">/</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">local</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">etc</span><span class="pun" style="word-wrap: break-word;">/</span><span class="pln" style="word-wrap: break-word;">nginx</span><span class="pun" style="word-wrap: break-word;">/</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">nano</span><span class="pln" style="word-wrap: break-word;"> </span><span class="pun" style="word-wrap: break-word;">-</span><span class="pln" style="word-wrap: break-word;">c nginx</span><span class="pun" style="word-wrap: break-word;">.</span><span class="pln" style="word-wrap: break-word;">conf</span></code></li></ol>
```

在最后一行的前面，包含 virtualhost 配置目录：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pun" style="word-wrap: break-word;">[......]</span></code></li><li class="L1" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L2" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">include</span><span class="pln" style="word-wrap: break-word;"> virtualhost</span><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">/*.conf;</span></code></li><li class="L3" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"> </li><li class="L4" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="com" style="word-wrap: break-word; color: rgb(174, 174, 174); font-style: italic;">}</span></code></li></ol>
```

保存并退出。

用命令 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">nginx -t</span>" 测试 nginx 配置，如果没有错误，用 sysrc 添加 nginx 到开机启动：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">sysrc nginx_enable</span><span class="pun" style="word-wrap: break-word;">=</span><span class="kwd" style="word-wrap: break-word; color: rgb(226, 137, 100);">yes</span></code></li></ol>
```

并启动 nginx：

```
<ol class="linenums" style="word-wrap: break-word; margin: 1em 2em; padding: 1px; border-left: 2px solid rgb(0, 153, 0); background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAICAYAAAA4GpVBAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90GBgMqHcZ0EYUAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAF0lEQVQI12NgYGAwZsAECDEWBgYGBgYACpwAazfG694AAAAASUVORK5CYII="); color: rgb(174, 174, 174);"><li class="L0" style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 28px; text-indent: -28px; line-height: 2em; list-style-type: decimal;"><code style="word-wrap: break-word; background: none; text-shadow: rgb(0, 0, 0) 0px 1px 1px; padding: 0px 0px 0px 10px !important; border-radius: 0px !important; margin: 1em 0px !important; color: rgb(184, 255, 184); border: none !important;"><span class="pln" style="word-wrap: break-word;">service nginx start</span></code></li></ol>
```

现在测试所有 nginx 和 virtualhost 配置。请打开你的浏览器并输入： ghost.me

![ghost.me 成功运行](http://www.zhaoweifeng.cn/blog/upload/201612081535271082.png)

*ghost.me 成功运行*

Ghost.me 正在成功运行。

如果你想要检查 nginx 服务器，可以使用 "<span style="word-wrap: break-word; color: rgb(196, 15, 15);">curl</span>" 命令。

![测试 ghost 和 nginx](http://www.zhaoweifeng.cn/blog/upload/201612081535277301.png)

*测试 ghost 和 nginx*

Ghost 正在 nginx 上运行。

### 总结

Node.js 是 Ryan Dahl 为创建和开发可扩展服务器端应用程序创建的运行时环境。Ghost 是使用 node.js 编写的开源博客平台，它有漂亮的外观设计并且易于使用。默认情况下，ghost 是可以单独运行的 web 应用程序，并不需要类似 apache、nginx 或 IIS 之类的 web 服务器，但我们也可以和 web 服务器集成（在这篇指南中使用 Nginx）。Sqlite 是 ghost 默认使用的数据库，它还支持 msql/mariadb 和 postgresql。Ghost 能快速部署并且易于使用和配置。

</div>